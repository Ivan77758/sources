
<script type="text/x-template" id="attention-wall">
  <modal-dialog :show="show" @close="close">
    <div class="attention-wall" v-if="show">
      <div class="attention-wall__content">
        <div class="attention-wall__caption">{{caption}}</div>
        <div class="attention-wall__text">{{text}}</div>
        <div class="attention-wall__option">
          <button class="btn btn-primary btn-sm" @click="remove">Удалить контакт</button>
          <button class="btn btn-link btn-sm" @click="close">Продолжить просмотр</button>
        </div>
      </div>
    </div>
  </modal-dialog>
</script>

<script type="text/x-template" id="initial-dialog">
  <inform-dialog :loader="showLoader" :hint="showHint" @close="close">
    <span slot="caption"><b>Предложения знакомства</b></span>
    <span slot="context">Когда вы отправляете или вам отправляют самое первое сообщение, это считается предложением знакомства.</span>
    <span slot="hint">Здесь будет список ваших предложений знакомства.</span>

    <div class="" v-if="count">
      <contact-item v-for="(item, index) in contacts" :key="index"
        :item="item"
        :index="index"
        :quick="quick"
        @bun="bun"
        @close="close"
        @splice="splice"
        @remove="remove"/>
    </div>
  </inform-dialog>
</script>


<script type="text/x-template" id="intimate-dialog">
  <inform-dialog :loader="showLoader" :hint="showHint" @close="close">
    <span slot="caption"><b>Общение, диалоги и контакты</b></span>
    <span slot="context">Отвечайте на предложения знакомства. Ваши активные диалоги сохраняются здесь, отдельно от предложений знакомства.</span>
    <span slot="hint">Здесь будет список ваших контактов, сообщений, диалогов.</span>

    <div class="" v-if="count">
      <contact-item v-for="(item, index) in contacts" :key="index"
        :item="item"
        :index="index"
        :quick="quick"
        @bun="bun"
        @close="close"
        @splice="splice"
        @remove="remove"/>
    </div>
  </inform-dialog>
</script>


<script type="text/x-template" id="contact-item">
  <div class="contact-list__item">
    <div class="contact-list__item-content" @click.stop="show">
      <div class="contact-list__item-info">
        <span class="user-list__name">{{name}}</span><span v-show="age || city">,</span>
        <span class="user-list__age">{{age}}</span>
        <span class="user-list__city">{{city}}</span>
      </div>
      <div class="contact-list__item-message">{{message}}</div>
    </div>
    <div class="contact-list__item-option">
      <span :class="0 ? 'message-item__bunn-alert' : 'message-item__bunn'"
        v-show="sent" @click="confirmBun">
        <span aria-hidden="true" class="glyphicon glyphicon-thumbs-down"></span>
      </span>
      <span class="message-item__remove" v-show="sent" @click="confirmRemove">
        <span aria-hidden="true" class="glyphicon glyphicon-remove"></span>
      </span>
    </div>

    <remove-confirm :show="confirm"
      @bun="bun"
      @close="cancel"
      @remove="remove"/>
    <quick-reply :show="detail" :item="item"
      @bun="bun"
      @close="close"
      @sended="splice"
      @remove="remove"/>
  </div>
</script>


<script type="text/x-template" id="loading-cover">
  <div class="loading-cover" v-if="show">
    <div class="loading-cover__wrapper">
      <div class="loading-cover__loader">{{loader}}...</div>
    </div>
  </div>
</script>



<script type="text/x-template" id="loading-wall">
  <div class="loading-wall" v-if="show">
    <div class="loading-wall__wrapper">
      <div class="loading-wall__loader" v-show="hope">{{loader}}...</div>
    </div>
  </div>
</script>


<script type="text/x-template" id="modal-dialog">
  <div class="modal-dialog__mask" v-if="show" transition="modal" @click="close">
    <div class="modal-dialog__container" @click.stop>
      <slot></slot>
    </div>
  </div>
</script>


<script type="text/x-template" id="quick-reply">
  <modal-dialog :show="show" @close="close">
    <div class="human-dialog__caption">
      Быстрый ответ
      <div class="human-dialog__option">
        <span aria-hidden="true" class="glyphicon glyphicon-thumbs-down" @click="confirm = 'doit'"></span>
        <span aria-hidden="true" class="human-dialog__option-remove glyphicon glyphicon-trash" @click="confirm = 'must'"></span>
      </div>
    </div>
    <div class="human-dialog__body">
      <div class="human-dialog__desire" v-show="human">
        <span class="link_simple" v-for="(tag, index) in tags" :key="index">{{tag}} &#8226; </span>
      </div>
      <div class="human-dialog__message">
        {{message}}
      </div>
    </div>


    <div class="message-input">
    <table border="0" style="width: 100%;">
        <tr>
          <td style="width: 40px;">
            <a :href="'/' + item.human_id" class="message-input__button-account" style=""></a>
          </td>
          <td>
            <textarea class="message-input__texarea" rows="1" placeholder="Введите текст" v-model="text" v-resized></textarea>
          </td>
          <td style="width: 40px;">
            <div class="message-input__button-send" @click="send"></div>
          </td>
        </tr>
      </table>
    </div>
    <attention-wall :show="hold" @close="cancel" @remove="remove"/>
    <loading-wall :show="loading"/>
    <loading-cover :show="process"/>

    <remove-confirm :show="confirm" @bun="bun" @close="cancel" @remove="remove"/>
    <captcha-dialog :show="captcha" @close="close" @cancel="cancel" @send="setCode"/>
  </modal-dialog>
</script>


<script type="text/x-template" id="remove-confirm">
  <modal-dialog :show="show" @close="close">
    <div class="modal-dialog__wrapper">
      <div class="modal-dialog__caption">
        {{caption}}
      </div>
      <div class="modal-dialog__body">
        {{text}}
      </div>
      <div class="modal-dialog__footer">
        <button class="btn btn-primary" @click="bun()" v-if="show == 'doit'">{{action}}</button>
        <button class="btn btn-primary" @click="remove()" v-else>{{action}}</button>
        <button class="btn btn-default" @click="close()">Отмена</button>
      </div>
    </div>
  </modal-dialog>
</script>

